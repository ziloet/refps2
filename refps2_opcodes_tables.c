#define INSTRUCTION_RESERVED INSTRUCTION_ILLEGAL
#define INSTRUCTION_UNSUPPORTED INSTRUCTION_ILLEGAL
#define INSTRUCTION_UNDEFINED INSTRUCTION_ILLEGAL

typedef void (*opcode_table_cop0)(cpu_cop0*);
typedef void (*opcode_table_cop1)(cpu_cop1*);
//typedef void (*opcode_table_cop2)(cpu_cop2*);
typedef void (*opcode_table)(ee_cpu*);

static opcode_table Opcodes_Special[64] =
{
  SLL,
  INSTRUCTION_RESERVED,
  SRL,
  SRA,
  SLLV,
  INSTRUCTION_RESERVED,
  SRLV,
  SRAV,
  JR,
  JALR,
  MOVZ,
  MOVN,
  SYSCALL,
  BREAK,
  INSTRUCTION_RESERVED,
  SYNC,
  MFHI,
  MTHI,
  MFLO,
  MTLO,
  DSLLV,
  INSTRUCTION_RESERVED,
  DSRLV,
  DSRAV,
  MULT,
  MULTU,
  DIV,
  DIVU,
  INSTRUCTION_UNSUPPORTED,
  INSTRUCTION_UNSUPPORTED,
  INSTRUCTION_UNSUPPORTED,
  INSTRUCTION_UNSUPPORTED,
  ADD,
  ADDU,
  SUB,
  SUBU,
  AND,
  OR,
  XOR,
  NOR,
  MFSA,
  MTSA,
  SLT,
  SLTU,
  DADD,
  DADDU,
  DSUB,
  DSUBU,
  TGE,
  TGEU,
  TLT,
  TLTU,
  TEQ,
  INSTRUCTION_RESERVED,
  TNE,
  INSTRUCTION_RESERVED,
  DSLL,
  INSTRUCTION_RESERVED,
  DSRL,
  DSRA,
  DSLL32,
  INSTRUCTION_RESERVED,
  DSRL32,
  DSRA32
};

static opcode_table Opcodes_RegImm[32] =
{
  BLTZ,
  BGEZ,
  BLTZL,
  BGEZL,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  TGEI,
  TGEIU,
  TLTI,
  TLTIU,
  TEQI,
  INSTRUCTION_RESERVED,
  TNEI,
  INSTRUCTION_RESERVED,
  BLTZAL,
  BGEZAL,
  BLTZALL,
  BGEZALL,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  MTSAB,
  MTSAH,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED
};

static opcode_table Opcodes_Cop0_Bc0[32] =
{
  BC0F,
  BC0T,
  BC0FL,
  BC0TL,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED
};

static opcode_table Opcodes_Cop0_C0[64] =
{
  INSTRUCTION_UNDEFINED,
  TLBR,
  TLBWI,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  TLBWR,
  INSTRUCTION_UNDEFINED,
  TLBP,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  ERET,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  EI,
  DI,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED
};

DEFINE_MIPS_INSTRUCTION(BC0)
{
  Opcodes_Cop0_Bc0[_RT_](CPU);
}

DEFINE_MIPS_INSTRUCTION(C0)
{
  Opcodes_Cop0_C0[_FUNCTION_](CPU);
}

static opcode_table Opcodes_Cop0[32] =
{
  MF0,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  MT0,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  BC0,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  C0,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED
};

static opcode_table Opcodes_Cop1_Bc1[32] =
{
  BC1F,
  BC1T,
  BC1FL,
  BC1TL,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED
};

static opcode_table Opcodes_Cop1_S[64] =
{
  ADD_S,
  SUB_S,
  MUL_S,
  DIV_S,
  SQRT_S,
  ABS_S,
  MOV_S,
  NEG_S,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  RSQRT_S,
  INSTRUCTION_UNDEFINED,
  ADDA_S,
  SUBA_S,
  MULA_S,
  INSTRUCTION_UNDEFINED,
  MADD_S,
  MSUB_S,
  MADDA_S,
  MSUBA_S,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  CVTW,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  MAX_S,
  MIN_S,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  C_F_S,
  INSTRUCTION_UNDEFINED,
  C_EQ_S,
  INSTRUCTION_UNDEFINED,
  C_LT_S,
  INSTRUCTION_UNDEFINED,
  C_LE_S,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED
};

static opcode_table Opcodes_Cop1_W[64] =
{
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  CVTS,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED,
  INSTRUCTION_UNDEFINED
};

DEFINE_MIPS_INSTRUCTION(BC1)
{
  Opcodes_Cop1_Bc1[_RT_](CPU);
}

DEFINE_MIPS_INSTRUCTION(S)
{
  Opcodes_Cop1_S[_FUNCTION_](CPU);
}

DEFINE_MIPS_INSTRUCTION(W)
{
  Opcodes_Cop1_W[_FUNCTION_](CPU);
}

static opcode_table Opcodes_Cop1[32] =
{
  MFC1,
  INSTRUCTION_RESERVED,
  CFC1,
  INSTRUCTION_RESERVED,
  MTC1,
  INSTRUCTION_RESERVED,
  CTC1,
  INSTRUCTION_RESERVED,
  BC1,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  S,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  W,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED
};

static opcode_table Opcodes_Cop2[32];

static opcode_table Opcodes_Mmi0[32] =
{
  PADDW,
  PSUBW,
  PCGTW,
  PMAXW,
  PADDH,
  PSUBH,
  PCGTH,
  PMAXH,
  PADDB,
  PSUBB,
  PCGTB,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  PADDSW,
  PSUBSW,
  PEXTLW,
  PPACW,
  PADDSH,
  PSUBSH,
  PEXTLH,
  PPACH,
  PADDSB,
  PSUBSB,
  PEXTLB,
  PPACB,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  PEXT5,
  PPAC5
};

static opcode_table Opcodes_Mmi1[32] =
{
  INSTRUCTION_RESERVED,
  PABSW,
  PCEQW,
  PMINW,
  PADSBH,
  PABSH,
  PCEQH,
  PMINH,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  PCEQB,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  PADDUW,
  PSUBUW,
  PEXTUW,
  INSTRUCTION_RESERVED,
  PADDUH,
  PSUBUH,
  PEXTUH,
  INSTRUCTION_RESERVED,
  PADDUB,
  PSUBUB,
  PEXTUB,
  QFSRV,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED
};

static opcode_table Opcodes_Mmi2[32] =
{
  PMADDW,
  INSTRUCTION_RESERVED,
  PSLLVW,
  PSRLVW,
  PMSUBW,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  PMFHI,
  PMFLO,
  PINTH,
  INSTRUCTION_RESERVED,
  PMULTW,
  PDIVW,
  PCPYLD,
  INSTRUCTION_RESERVED,
  PMADDH,
  PHMADH,
  PAND,
  PXOR,
  PMSUBH,
  PHMSBH,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  PEXEH,
  PREVH,
  PMULTH,
  PDIVBW,
  PEXEW,
  PROT3W
};

static opcode_table Opcodes_Mmi3[32] =
{
  PMADDUW,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  PSRAVW,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  PMTHI,
  PMTLO,
  PINTEH,
  INSTRUCTION_RESERVED,
  PMULTUW,
  PDIVUW,
  PCPYUD,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  POR,
  PNOR,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  PEXCH,
  PCPYH,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  PEXCW,
  INSTRUCTION_RESERVED
};

DEFINE_MIPS_INSTRUCTION(MMI0)
{
  Opcodes_Mmi0[_SA_](CPU);
}

DEFINE_MIPS_INSTRUCTION(MMI1)
{
  Opcodes_Mmi1[_SA_](CPU);
}

DEFINE_MIPS_INSTRUCTION(MMI2)
{
  Opcodes_Mmi2[_SA_](CPU);
}

DEFINE_MIPS_INSTRUCTION(MMI3)
{
  Opcodes_Mmi3[_SA_](CPU);
}

static opcode_table Opcodes_Mmi[64] =
{
  MADD,
  MADDU,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  PLZCW,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  MMI0,
  MMI2,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  MFHI1,
  MTHI1,
  MFLO1,
  MTLO1,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  MULT1,
  MULTU1,
  DIV1,
  DIVU1,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  MADD1,
  MADDU1,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  MMI1,
  MMI3,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  PMFHL,
  PMTHL,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  PSLLH,
  INSTRUCTION_RESERVED,
  PSRLH,
  PSRAH,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_RESERVED,
  PSLLW,
  INSTRUCTION_RESERVED,
  PSRLW,
  PSRAW
};

DEFINE_MIPS_INSTRUCTION(SPECIAL)
{
  Opcodes_Special[_FUNCTION_](CPU);
}

DEFINE_MIPS_INSTRUCTION(REGIMM)
{
  Opcodes_RegImm[_RT_](CPU);
}

DEFINE_MIPS_INSTRUCTION(COP0)
{
  uint32_t Status = CPU->COP0.Registers.Status;
  bool IsKernelMode = ((Status & 0x18) == 0) || (Status & 2) || ((Status & 4) == 0);
  if(!IsKernelMode)
  {
    SignalException(CPU, CPU_COPROCESSOR_UNUSABLE);
    return;
  }
  Opcodes_Cop0[_RS_](CPU);
}

DEFINE_MIPS_INSTRUCTION(COP1)
{
  Opcodes_Cop1[_RS_](CPU);
}

DEFINE_MIPS_INSTRUCTION(COP2)
{
  NOT_IMMPLEMENTED_YET();
}

DEFINE_MIPS_INSTRUCTION(MMI)
{
  Opcodes_Mmi[_FUNCTION_](CPU);
}


static opcode_table Opcodes_R3000A[64] =
{
  SPECIAL,
  REGIMM,
  J,
  JAL,
  BEQ,
  BNE,
  BLEZ,
  BGTZ,
  ADDI,
  ADDIU,
  SLTI,
  SLTIU,
  ANDI,
  ORI,
  XORI,
  LUI,
  COP0,
  COP1,
  COP2,
  INSTRUCTION_RESERVED,
  BEQL,
  BNEL,
  BLEZL,
  BGTZL,
  DADDI,
  DADDIU,
  LDL,
  LDR,
  MMI,
  INSTRUCTION_RESERVED,
  LQ,
  SQ,
  LB,
  LH,
  LWL,
  LW,
  LBU,
  LHU,
  LWR,
  LWU,
  SB,
  SH,
  SWL,
  SW,
  SDL,
  SDR,
  SWR,
  CACHE,
  INSTRUCTION_UNSUPPORTED,
  LWC1,
  INSTRUCTION_UNSUPPORTED,
  PREF,
  INSTRUCTION_UNSUPPORTED,
  INSTRUCTION_UNSUPPORTED,
  LQC2,
  LD,
  INSTRUCTION_UNSUPPORTED,
  SWC1,
  INSTRUCTION_UNSUPPORTED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_UNSUPPORTED,
  INSTRUCTION_UNSUPPORTED,
  SQC2,
  SD
};


static opcode_table Opcodes_R5900[64] =
{
  SPECIAL,
  REGIMM,
  J,
  JAL,
  BEQ,
  BNE,
  BLEZ,
  BGTZ,
  ADDI,
  ADDIU,
  SLTI,
  SLTIU,
  ANDI,
  ORI,
  XORI,
  LUI,
  COP0,
  COP1,
  COP2,
  INSTRUCTION_RESERVED,
  BEQL,
  BNEL,
  BLEZL,
  BGTZL,
  DADDI,
  DADDIU,
  LDL,
  LDR,
  MMI,
  INSTRUCTION_RESERVED,
  LQ,
  SQ,
  LB,
  LH,
  LWL,
  LW,
  LBU,
  LHU,
  LWR,
  LWU,
  SB,
  SH,
  SWL,
  SW,
  SDL,
  SDR,
  SWR,
  CACHE,
  INSTRUCTION_UNSUPPORTED,
  LWC1,
  INSTRUCTION_UNSUPPORTED,
  PREF,
  INSTRUCTION_UNSUPPORTED,
  INSTRUCTION_UNSUPPORTED,
  LQC2,
  LD,
  INSTRUCTION_UNSUPPORTED,
  SWC1,
  INSTRUCTION_UNSUPPORTED,
  INSTRUCTION_RESERVED,
  INSTRUCTION_UNSUPPORTED,
  INSTRUCTION_UNSUPPORTED,
  SQC2,
  SD
};